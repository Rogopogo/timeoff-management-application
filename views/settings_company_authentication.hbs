
{{> header }}

<h1>Проверка подлинности LDAP</h1>

<p class="lead">Сведения об аутентификации LDAP</p>

{{> show_flash_messages }}

<div class="row main-row_header">
  <p class="col-md-12">Описание</p>
</div>

<div class="row">
  <div class="col-md-8 col-md-offset-1">
    <p>Time Off.Management поддерживает проверку подлинности LDAP для клиентов, которые хотят интегрировать приложение с остальной частью своей инфраструктуры. Очевидная причина заключается в том, чтобы разрешить сотрудникам повторно использовать свои учетные данные Active Directory в TimeOff.Management.</p>

    <p>Эта страница позволяет вам настроить Time Off.Management для связи с пользовательским сервером LDAP.</p>

    <p>Пожалуйста, обратите внимание, что сотрудники должны использовать свои <strong>LDAP email</strong> с <strong>LDAP password</strong> (вместо имени пользователя). Это связано с многопользовательским характером приложения Time Off.Management, которое позволяет размещать более одной компании в рамках одной установки.</p>

    <p>Форма ниже содержит заполнители с примерами того, как настроить TimeOff.Management для использования бесплатного тестового сервера LDAP описано <a href="http://www.forumsys.com/en/tutorials/integration-how-to/ldap/online-ldap-test-server/">здесь</a>.</p>

  </div>

</div>

<div class="row main-row_header">
  <p class="col-md-12">Конфигурация</p>
</div>

<div class="row">

  <div class="col-md-12">

    <form class="form-horizontal" action="" method="post">

      <div class="form-group">
        <div class="col-md-9 col-md-offset-3">
        <label for="ldap_auth_enabled" class="control-label">
          <input
            id="ldap_auth_enabled"
            type="checkbox"
            {{# if company.ldap_auth_enabled }} checked="checked" {{/if}}
            name="ldap_auth_enabled"
           />&nbsp;
           Включить проверку подлинности LDAP
          </label>
        </div>
      </div>

      <hr/>

      <div class="form-group">
        <label for="ldap_url" class="col-md-3 control-label">URL-адрес сервера LDAP</label>
        <div class="col-md-5">
          <input class="form-control" id="ldap_url" placeholder="ldap://ldap.forumsys.com:389" name="url" value="{{ldap_config.url}}" aria-describedby="ldap_url_help" >
        </div>
        <span id="ldap_url_help" class="help-block">URL-адрес должен содержать части протокола и порта</span>
        <div class="col-md-9 col-md-offset-3">
          <label for="allow_unauthorized_cert" class="control-label">
            <input
              id="allow_unauthorized_cert"
              type="checkbox"
              {{# if ldap_config.allow_unauthorized_cert }} checked="checked" {{/if}}
              name="allow_unauthorized_cert"
            />&nbsp;
            Разрешить неавторизованный SSL-сертификат (если используется LDAPS)
          </label>
        </div>
      </div>

      <div class="form-group">
        <label for="ldap_bindn" class="col-md-3 control-label">BindDN</label>
        <div class="col-md-5">
          <input class="form-control" id="ldap_bindn" placeholder="cn=read-only-admin,dc=example,dc=com" name="binddn" value="{{ ldap_config.binddn }}">
        </div>
      </div>

      <div class="form-group">
        <label for="ldap_password" class="col-md-3 control-label">Bind Полномочия</label>
        <div class="col-md-5">
          <input class="form-control" id="ldap_password" placeholder="" name="bindcredentials" value="{{ ldap_config.bindcredentials }}" type="password" aria-describedby="ldap_password_help">
        </div>
        <span id="ldap_password_help" class="help-block">Пароль, используемый для обработки запросов LDAP</span>
      </div>

      <div class="form-group">
        <label for="ldap_search_base" class="col-md-3 control-label">Поисковая база</label>
        <div class="col-md-5">
          <input class="form-control" id="ldap_search_base" placeholder="dc=example,dc=com" name="searchbase" value="{{ ldap_config.searchbase }}">
        </div>
      </div>

      <hr/>

      <p class="col-md-offset-2">Чтобы предотвратить ситуацию, когда учетная запись компании блокируется, текущий администратор (<strong>{{# with logged_user}}{{this.full_name}}{{/with}}</strong>) должен ввести пароль, связанный с его электронной почтой на сервере LDAP.</p>
      <p class="col-md-offset-2">Это делается для того, чтобы гарантировать, что <strong>{{# with logged_user}}{{this.full_name}}{{/with}}</strong> может войти в систему Time Off.Management с новыми настройками LDAP.</p>

      <hr/>

      <div class="form-group">
        <label for="current_user_password" class="col-md-3 control-label">Мой пароль LDAP</label>
        <div class="col-md-5">
          <input class="form-control" id="current_user_password" placeholder="" name="password_to_check" value="" type="password" aria-describedby="current_user_password_help">
        </div>
        <span id="current_user_password_help" class="help-block">Пароль для <strong>{{# with logged_user}}{{this.full_name}}{{/with}}</strong> на новом сервере LDAP.</span>
      </div>

      <div class="form-group">
        <div class="col-md-offset-3 col-md-5">
          <button id="submit_registration" type="submit" class="pull-right btn btn-success single-click">Сохранение конфигурации LDAP</button>
        </div>
      </div>

    </form>


  </div>

</div>


{{> footer }}
